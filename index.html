<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kwaicutter GUI</title>
    <link rel="stylesheet" href="style.css">
    
  </head>
  <body>
    <video id="video" controls></video>
    <input type="file" id="fileInput" accept="video/*">
    <br>
    <br>
    <label for="duration">‚è±Ô∏è Dura√ß√£o:</label>
    <span id="duration"></span>
    <br>
    <div class="input-group">
      <input type="text" id="start" placeholder="In√≠cio em hh:mm:ss.sss">
      <button id="copycomeco">Copiar</button>
      <br>
    </div>
    <div class="input-group">
      <input type="text" id="end" placeholder="Final em hh:mm:ss.sss">
      <button id="copyfim">Copiar</button>
      <br>
    </div>
    <label for="teste">üìú T√≠tulo:</label>
    <br>
    <div class="input-group">
      <input type="text" id="field1" maxlength="20" placeholder="Linha 1 do t√≠tulo">
      <button id="copyBtn">Copiar</button>
      <br>
    </div>
    <div class="input-group">
      <input type="text" id="field2" maxlength="20" placeholder="Linha 2 do t√≠tulo">
    <button id="copyField2">Copiar</button>
    </div>
    
    
    
    
    <script>
      
      const video = document.getElementById('video');
      const fileInput = document.getElementById('fileInput');
      const startInput = document.getElementById('start');
      const endInput = document.getElementById('end');
      const durationSpan = document.getElementById('duration');
      const field1 = document.getElementById('field1');
      const field2 = document.getElementById('field2');
      fileInput.addEventListener('change', () => {
        const file = fileInput.files[0];
        const url = URL.createObjectURL(file);
        video.setAttribute('src', url);
      });
      startInput.addEventListener('change', () => {
        const time = startInput.value;
        video.currentTime = parseTime(time);
      });
      endInput.addEventListener('change', () => {
        const time = endInput.value;
        video.pause();
        video.currentTime = parseTime(time);
      });
      video.addEventListener('timeupdate', () => {
        const start = parseTime(startInput.value);
        const end = parseTime(endInput.value);
        if (video.currentTime < start || video.currentTime > end) {
          video.currentTime = start;
        }
        const duration = end - start;
        durationSpan.textContent = formatTime(duration);
      });
      function parseTime(timeString) {
        const [hours, minutes, seconds] = timeString.split(':').map(parseFloat);
        const milliseconds = parseFloat(timeString.split('.').pop());
        return (hours * 60 * 60) + (minutes * 60) + seconds + (milliseconds / 1000);
      }
      function formatTime(time) {
        const hours = Math.floor(time / 3600);
        const minutes = Math.floor((time % 3600) / 60);
        const seconds = Math.floor(time % 60);
        const milliseconds = Math.floor((time * 1000) % 1000);
        return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}.${milliseconds.toString().padStart(3, '0')}`;
      }

const copyBtn = document.getElementById('copyBtn');
copyBtn.addEventListener('click', () => {
  navigator.clipboard.writeText(field1.value);
});

const copyField2 = document.getElementById('copyField2');
copyField2.addEventListener('click', () => {
  navigator.clipboard.writeText(field2.value);
});


const copycomeco = document.getElementById('copycomeco');
const start = document.getElementById('start');
copycomeco.addEventListener('click', () => {
  navigator.clipboard.writeText(start.value);
});

const copyfim = document.getElementById('copyfim');
const end = document.getElementById('end');
copyfim.addEventListener('click', () => {
  navigator.clipboard.writeText(end.value);
});


video.setAttribute('controlsList', 'nodownload');

window.onbeforeunload = function() {
  return "Tem certeza de que deseja sair desta p√°gina? Voc√™ pode perder dados n√£o salvos.";
};

    </script>



  </body>
</html>