<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kwaicutter GUI</title>
    
  </head>
  <body>
    <video id="video" controls></video>
    <!-- <input type="file" id="fileInput"> -->
    <input type="file" id="fileInput" accept="video/*">
    <br>
    <br>
    <label for="duration">‚è±Ô∏è Dura√ß√£o:</label>
    <span id="duration"></span>
    <br>
    <div class="input-group">
      <!-- <label for="start">In√≠cio</label> -->
      <input type="text" id="start" placeholder="In√≠cio em hh:mm:ss.sss">
      <button id="copycomeco">Copiar</button>
      <br>
    </div>
    <div class="input-group">
      <!-- <label for="end">Final</label> -->
      <input type="text" id="end" placeholder="Final em hh:mm:ss.sss">
      <button id="copyfim">Copiar</button>
      <br>
    </div>
    <!-- <br> -->
    <label for="teste">üìú T√≠tulo:</label>
    <!-- <label for="duration">‚è±Ô∏è</label>
    <span id="duration"></span> -->
    <br>
    <div class="input-group">
      <input type="text" id="field1" maxlength="20" placeholder="Linha 1 do t√≠tulo">
      <button id="copyBtn">Copiar</button>
      <br>
    </div>
    <div class="input-group">
      <input type="text" id="field2" maxlength="20" placeholder="Linha 2 do t√≠tulo">
    <button id="copyField2">Copiar</button>
    </div>
    
    
    
    
    <script>
      
      const video = document.getElementById('video');
      const fileInput = document.getElementById('fileInput');
      const startInput = document.getElementById('start');
      const endInput = document.getElementById('end');
      const durationSpan = document.getElementById('duration');
      const field1 = document.getElementById('field1');
      const field2 = document.getElementById('field2');
      fileInput.addEventListener('change', () => {
        const file = fileInput.files[0];
        const url = URL.createObjectURL(file);
        video.setAttribute('src', url);
      });
      startInput.addEventListener('change', () => {
        const time = startInput.value;
        video.currentTime = parseTime(time);
      });
      endInput.addEventListener('change', () => {
        const time = endInput.value;
        video.pause();
        video.currentTime = parseTime(time);
      });
      video.addEventListener('timeupdate', () => {
        const start = parseTime(startInput.value);
        const end = parseTime(endInput.value);
        if (video.currentTime < start || video.currentTime > end) {
          video.currentTime = start;
        }
        const duration = end - start;
        durationSpan.textContent = formatTime(duration);
      });
      function parseTime(timeString) {
        const [hours, minutes, seconds] = timeString.split(':').map(parseFloat);
        const milliseconds = parseFloat(timeString.split('.').pop());
        return (hours * 60 * 60) + (minutes * 60) + seconds + (milliseconds / 1000);
      }
      function formatTime(time) {
        const hours = Math.floor(time / 3600);
        const minutes = Math.floor((time % 3600) / 60);
        const seconds = Math.floor(time % 60);
        const milliseconds = Math.floor((time * 1000) % 1000);
        return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}.${milliseconds.toString().padStart(3, '0')}`;
      }

/*
const startCopyButton = document.createElement('button');
startCopyButton.textContent = 'Copiar';
startInput.insertAdjacentElement('afterend', startCopyButton);
startCopyButton.addEventListener('click', () => {
  const startValue = startInput.value;
  navigator.clipboard.writeText(startValue)
});

const endCopyButton = document.createElement('button');
endCopyButton.textContent = 'Copiar';
endInput.insertAdjacentElement('afterend', endCopyButton);
endCopyButton.addEventListener('click', () => {
  const endValue = endInput.value;
  navigator.clipboard.writeText(endValue)
});
*/

const copyBtn = document.getElementById('copyBtn');
copyBtn.addEventListener('click', () => {
  navigator.clipboard.writeText(field1.value);
});

const copyField2 = document.getElementById('copyField2');
copyField2.addEventListener('click', () => {
  navigator.clipboard.writeText(field2.value);
});


const copycomeco = document.getElementById('copycomeco');
const start = document.getElementById('start');
copycomeco.addEventListener('click', () => {
  navigator.clipboard.writeText(start.value);
});

const copyfim = document.getElementById('copyfim');
const end = document.getElementById('end');
copyfim.addEventListener('click', () => {
  navigator.clipboard.writeText(end.value);
});


video.setAttribute('controlsList', 'nodownload');

window.onbeforeunload = function() {
  return "Tem certeza de que deseja sair desta p√°gina? Voc√™ pode perder dados n√£o salvos.";
};

    </script>



  <style>
    /* Estilos para o corpo da p√°gina */
  body {
    font-family: 'Helvetica Neue', sans-serif;
    color: #f5f5f5;
    margin: 0;
    padding: 20px;
    background-color: #333;
  }

  /* Estilos para o v√≠deo */
  #video {
    width: 100%;
    border-radius: 4px;
  }

  /* Estilos para o bot√£o de upload de arquivo */
  #fileInput {
    width: 92%;
    margin-top: 20px;
    font-size: 16px;
    padding: 10px 20px;
    border: none;
    border-radius: 4px;
    background-color: #2c3e50;
    color: #fff;
    cursor: pointer;
    transition: background-color 0.2s ease;
  }

  #fileInput:hover {
    background-color: #2c3e50;
  }

  /* Loucura */

  .input-group {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 10px;
  }

  .input-group label {
    margin-right: 0px;
  }


  /* Estilos para os campos de tempo */

  label {
    font-size: 18px;
    font-weight: bold;
    color: #f5f5f5;
  }

  input[type="text"] {
    font-size: 16px;
    padding: 10px;
    border: none;
    border-radius: 4px;
    background-color: #444;
    margin: 10px 0;
    width: 100%;
    box-sizing: border-box;
    color: #f5f5f5;
  }

  input[type="text"]:focus {
    outline: none;
    box-shadow: 0 0 5px rgba(63, 81, 181, 0.5);
  }

  /* Estilos para o bot√£o "Copiora" */
  button {
    font-size: 16px;
    padding: 10px 20px;
    border: none;
    border-radius: 4px;
    background-color: #2c3e50;
    color: #fff;
    cursor: pointer;
    transition: background-color 0.2s ease;
  }

  button:hover {
    background-color: #000000;
  }

  /* Estilos para a dura√ß√£o do v√≠deo */
  #duration {
    font-size: 18px;
    font-weight: bold;
    margin-top: 10px;
    color: #f5f5f5;
  }
  </style>



  </body>
</html>
